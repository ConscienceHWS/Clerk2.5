# PDF Converter v2 - 依赖（按代码实际使用整理）

# ========== Web API（运行 API 服务必装） ==========
fastapi>=0.100.0
uvicorn[standard]>=0.23.0
pydantic>=2.0.0
typing-extensions>=4.0.0

# ========== 异步与 HTTP ==========
aiohttp>=3.8.0          # 调用 MinerU file_parse、重试上传
aiofiles>=23.0.0        # 异步读写文件（converter 解压/写 md）

# ========== 图片处理 ==========
Pillow>=9.0.0           # 图片处理（converter、parser、test_no、pdf_watermark_remover）
numpy>=1.20.0           # image_preprocessor 去水印/裁剪页眉页脚
opencv-python>=4.5.0    # image_preprocessor（去水印、裁剪）、pdf_watermark_remover 依赖

# ========== PDF 处理 ==========
PyPDF2>=3.0.0           # 必装：pdf_splitter 按页切割、pdf_watermark_remover、test_no 附件切割
pypdfium2>=4.0.0        # paddleocr_fallback 从 PDF 提图（优先）；可选，无则用 pdf2image
pdf2image>=1.16.0       # pdf_watermark_remover PDF→图→PDF；paddleocr_fallback 备用提图（需系统 poppler）
pdfplumber>=0.11.0      # table_extractor 表格提取、file_utils 检测 PDF 文本层、test_no

# ========== 表格提取（/convert 结算报告/设计评审等类型） ==========
pandas>=1.3.0           # table_extractor 表格数据处理

# ========== 日志 ==========
loguru>=0.7.0

# ========== 可选 / 测试 ==========
# requests>=2.28.0      # 仅 test_api.py 调用接口时需要，按需安装
